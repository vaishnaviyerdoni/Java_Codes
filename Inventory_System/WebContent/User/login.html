<!DOCTYPE html>
<html lang = "en">
  <head>
    <meta charset = "UTF-8">
    <title>Welcome to Inventory!</title>
    <link rel = "stylesheet" href="../style.css">
  </head>
  <body>
    <header>
      <h2>Welcome to Inventory</h2>
      <h3>Login to begin shopping!</h3>
    </header>

    <main class="dashboard-sections">
      <form id="loginform" method="post" action="/user">
        <input type="hidden" name="action" value="isValidUser">

        <label for="userId">UserID:</label>
        <input type="text" id="userId" name="userId" required><br><br>
    
        <label for="userName">Username:</label>
        <input type="text" id="userName" name="userName" required><br><br>

        <label for="passCode">PassCode:</label>
        <input type="text" id="passCode" name="passCode" required><br><br>

        <label for="role">Role:</label>
          <select id="role">
            <option value="admin">Admin</option>
            <option value="staff">Staff</option>
            <option value="customer">Customer</option>
          </select><br><br>

          <button type="submit">Login</button>
          <p id="LoginMessage"></p>
      </form>
    </main>
    <script>
       const userName = localStorage.getItem('userName');
       const role = localStorage.getItem('role');
       const userId = localStorage.getItem('userId');
       const PassCode = localStorage.getItem('PassCode');

       button.addEventListener('click', () => {
        alert('Logged in!')
       })

       if(role === 'Admin' || role === 'Staff'){
        window.location.href = '../dashboard/AdminAndStaffDashboard.html';
       }
       else if (role === 'Customer'){
        window.location.href = '../dashboard/CustomerDashboard.html';
       }

       document.getElementById('logoutBtn').addEventListener('click', () => {
        localStorage.removeItem('role');
        localStorage.removeItem('userId');
        localStorage.removeItem('userName');
        localStorage.removeItem('PassCode');

        window.location.href = "../logout.html";
       })
    </script>
    <p>If not Registered, Register here: <a href="../User/register.html">Register here!</a></p>
  </body>
</html>